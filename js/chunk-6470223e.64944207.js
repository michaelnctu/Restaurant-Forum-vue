(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6470223e"],{"17b7":function(t,e,r){"use strict";r("9513")},9513:function(t,e,r){},"9cab":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5"},[t.isLoading?r("Spinner"):[r("h1",{staticClass:"mt-7"},[t._v("最新動態")]),r("hr"),r("br"),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("h3",[t._v("最新餐廳")]),r("br"),r("NewestRestaurants",{attrs:{restaurants:t.restaurants}})],1),r("div",{staticClass:"col-md-6"},[r("h3",[t._v("最新評論")]),r("br"),r("NewestComments",{attrs:{comments:t.comments}})],1)])]],2)},a=[],n=(r("4de4"),r("96cf"),r("1da1")),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v("最新餐廳")]),r("div",{staticClass:"card-body"},t._l(t.restaurants,(function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(" "+t._s(e.name))]),t._v(" "),r("small",[t._v(t._s(e.Category?e.Category.name:"未分類"))])],1),r("p",[t._v(t._s(e.description))]),t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" "),r("hr")])})),0)])},o=[],i=r("c1df"),u=r.n(i),d={name:"newestRestaurants",filters:{fromNow:function(t){return t?u()(t).fromNow():"-"}},props:{restaurants:{type:Array,required:!0}}},l=d,m=(r("17b7"),r("2877")),f=Object(m["a"])(l,c,o,!1,null,"c6e03c64",null),v=f.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card"},[r("div",{staticClass:"card-header"},[t._v("最新評論")]),r("div",{staticClass:"card-body"},t._l(t.comments,(function(e){return r("div",{key:e.id},[r("h4",[r("router-link",{attrs:{to:{name:"restaurant",params:{id:e.Restaurant.id}}}},[t._v(" "+t._s(e.Restaurant.name)+" ")])],1),r("p",[t._v(t._s(e.text))]),t._v(" by "),r("router-link",{attrs:{to:{name:"user",params:{id:e.User.id}}}},[t._v(" "+t._s(e.User.name)+" ")]),t._v(" at "+t._s(t._f("fromNow")(e.createdAt))+" "),r("hr")],1)})),0)])},p=[],h={name:"newestComments",props:{comments:{type:Array,required:!0}},filters:{fromNow:function(t){return t?u()(t).fromNow():"-"}}},w=h,b=Object(m["a"])(w,_,p,!1,null,null,null),C=b.exports,y=r("c4c3"),k=r("2fa3"),N={name:"restaurantFeeds",components:{NewestRestaurants:v,NewestComments:C},data:function(){return{restaurants:[],comments:[]}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,s,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y["a"].getRestaurantsfeeds();case 3:r=e.sent,s=r.data,console.log("response",{data:s}),a=s.restaurants,n=s.comments,t.restaurants=a,t.comments=n.filter((function(t){return t.Restaurant&&t.text})),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log("error",e.t0),k["a"].fire({icon:e.t0,title:"發生錯誤我看不到feeds耶!"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}},R=N,g=Object(m["a"])(R,s,a,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-6470223e.64944207.js.map