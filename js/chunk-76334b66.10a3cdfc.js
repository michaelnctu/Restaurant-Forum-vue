(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76334b66"],{"075c":function(t,e,s){"use strict";s("c365")},1511:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"container user-banner"},[s("div",{staticClass:"userbanner-container"},[s("img",{staticClass:"userbanner-img",attrs:{src:"https://images.unsplash.com/photo-1551889579-8acb3f14a917?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",alt:""}}),s("div",{staticClass:"user-avatar-container"},[s("img",{staticClass:"user-avatar",staticStyle:{width:"100px",height:"100px"},attrs:{src:t.user.image,alt:""}}),s("div",{staticClass:"user-avatar-text"},[s("h1",{staticStyle:{color:"white"}},[t._v(t._s(t.user.name))]),s("p",{staticClass:"user-email",staticStyle:{color:"white"}},[t._v(t._s(t.user.email))])])]),s("div",{staticClass:"user-number-container"},[s("div",{staticClass:"number-container"},[s("span",{staticClass:"unit-number"},[t._v(" "+t._s(t.user.Comments.length))]),s("span",{staticClass:"unit"},[t._v("Reviews")])]),s("div",{staticClass:"number-container"},[s("span",{staticClass:"unit-number"},[t._v(" "+t._s(t.user.FavoritedRestaurants.length))]),s("span",{staticClass:"unit"},[t._v("收藏的餐廳")])]),s("div",{staticClass:"number-container"},[s("span",{staticClass:"unit-number"},[t._v(t._s(t.user.Followers.length))]),s("span",{staticClass:"unit"},[t._v("followers(追隨者)")])])])])]),s("div",{staticClass:"container mt-5"},[s("div",{staticClass:"row select-container"},[s("div",{staticClass:"select-option col-4"},[s("ul",{staticClass:"list-group"},[s("li",{staticClass:"list-group-item",class:{active:t.isRestaurants},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeRestaurants(e)}}},[t._v(" 收藏的餐廳 ")]),s("li",{staticClass:"list-group-item",class:{active:t.isFollowers},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeFollowers(e)}}},[t._v(" Followers ")]),s("li",{staticClass:"list-group-item",class:{active:t.isReview},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.changeReview(e)}}},[t._v(" 已評論的餐廳 ")])])]),t.isFollowers?s("div",{staticClass:"select-detail col-8"},[s("Followers",{attrs:{user:t.user}})],1):t._e(),t.isRestaurants?s("div",{staticClass:"select-detail col-8"},[s("UserRestaurantCard",{attrs:{user:t.user}})],1):t._e(),t.isReview?s("div",{staticClass:"select-detail col-8"},[s("RestaurantComments",{attrs:{user:t.user}})],1):t._e()])])])},r=[],i=(s("d3b7"),s("5530")),n=(s("96cf"),s("1da1")),o=s("4cce"),c=s("2fa3"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},t._l(t.restaurants,(function(e){return s("div",{key:e.id,staticClass:"card card-frame col-4",staticStyle:{width:"17rem",height:"auto"}},[s("img",{staticClass:"card-img-top",staticStyle:{width:"13rem",height:"13rem"},attrs:{src:e.image,alt:"Card image cap"}}),s("div",{staticClass:"card-body"},[s("p",{staticClass:"card-text title-wrap"},[s("router-link",{attrs:{to:{name:"restaurant",params:{id:e.id}}}},[t._v(t._s(e.name))])],1),s("p",{staticClass:"card-text title-wrap"},[t._v(" "+t._s(e.description)+" ")])])])})),0)},u=[],d={name:"user-REVIEW",props:{user:{type:Object,required:!0},isprocessing:{type:Boolean,default:!1}},data:function(){return{restaurants:this.user.FavoritedRestaurants}},methods:{addFavorite:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isProcessing=!0,s.next=4,o["a"].addFavorite({restaurantId:t});case 4:if(a=s.sent,r=a.data,console.log("data",r),"error"!==r.status){s.next=9;break}throw new Error(r.message);case 9:e.restaurant=Object(i["a"])(Object(i["a"])({},e.restaurant),{},{isFavorited:!0}),e.isProcessing=!1,s.next=18;break;case 13:s.prev=13,s.t0=s["catch"](0),console.error(s.t0.message),e.isProcessing=!1,c["a"].fire({icon:"error",title:"無法將餐廳加入最愛，請稍後再試"});case 18:case"end":return s.stop()}}),s,null,[[0,13]])})))()},deleteFavorite:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].deleteFavorite({restaurantId:t});case 3:if(a=s.sent,r=a.data,"error"!==r.status){s.next=7;break}throw new Error(r.message);case 7:e.restaurant=Object(i["a"])(Object(i["a"])({},e.restaurant),{},{isFavorited:!1}),s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log("error",s.t0),c["a"].fire({icon:"error",title:"無法刪除最愛等一下再試試看!!"});case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()},addLike:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].addLike({restaurantId:t});case 3:if(a=s.sent,r=a.data,"error"!==r.status){s.next=7;break}throw new Error(r.message);case 7:e.restaurant=Object(i["a"])(Object(i["a"])({},e.restaurant),{},{isLiked:!0}),s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log("error",s.t0),c["a"].fire({icon:"error",title:"哪裡出錯了!不給你Like!"});case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()},deleteLike:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].deleteLike({restaurantId:t});case 3:if(a=s.sent,r=a.data,"error"!==r.status){s.next=7;break}throw new Error(r.message);case 7:e.restaurant=Object(i["a"])(Object(i["a"])({},e.restaurant),{},{isLiked:!1}),s.next=14;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log("error",s.t0),c["a"].fire({icon:"error",title:"無法刪除like等一下再試試看!!"});case 14:case"end":return s.stop()}}),s,null,[[0,10]])})))()}}},v=d,f=(s("e235"),s("2877")),m=Object(f["a"])(v,l,u,!1,null,"9116ee32",null),p=m.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-container"},[s("h2",{staticClass:"my-4"},[t._v("所有評論：")]),t._l(t.user.Comments,(function(e){return s("div",{key:e.id},[s("div",{staticClass:"blockquote mb-0"},[s("div",{staticClass:"user"},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"user-img",attrs:{src:t.user.image,alt:""}})]),s("h3",{staticClass:"username"},[s("a",{attrs:{href:"#"}},[t._v(" @ 奔牛牛排")]),s("span",{attrs:{href:"#"}},[t._v("-"+t._s(t._f("fromNow")(e.createdAt))+" "),s("i",{staticClass:"fab fa-fort-awesome-alt"})])])]),s("br"),s("p",[t._v(t._s(e.text))])]),s("hr",{staticStyle:{"background-color":"grey"}})])}))],2)},h=[],b=s("c1df"),g=s.n(b),C={currentUser:{id:1,name:"管理者",email:"root@example.com",image:"https://i.pravatar.cc/300",isAdmin:!0},isAuthenticated:!0},_={filters:{fromNow:function(t){return t?g()(t).fromNow():"-"}},name:"UserReview",props:{user:{type:Object,required:!0}},data:function(){return{currentUser:C.currentUser}},methods:{handleDeleteButtonClick:function(t){console.log("handleDeleteButtonClick",t),this.$emit("after-delete-comment",t)}}},F=_,k=(s("075c"),Object(f["a"])(F,w,h,!1,null,"514a3ca0",null)),x=k.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"followers"},[s("h1",{staticClass:"ml-4"},[t._v("Followers")]),s("div",{staticClass:"followShown-button ml-4"},[s("button",{staticClass:"btn btn-danger btn-border mr-2",class:{active:t.isFollwings},attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.isFollowing(e)}}},[t._v(" Followings ")]),s("button",{staticClass:"btn btn-danger btn-border mr-2 { active: isFollwers }",class:{active:t.isFollowers},attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.isFollower(e)}}},[t._v(" Followers ")])]),s("br"),t.isFollwings?s("div",{staticClass:"row ml-2"},t._l(t.userfollowship.Followings,(function(e){return s("div",{key:e.id,staticClass:"followerShown-user col-5 mb-2"},[s("div",{staticClass:"user-info"},[s("img",{staticClass:"user-avatar",attrs:{src:e.image,alt:""}}),s("div",{staticClass:"user-name"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.email))])])]),t._m(0,!0)])})),0):s("div",{staticClass:"row ml-2"},t._l(t.userfollowship.Followers,(function(e){return s("div",{key:e.id,staticClass:"followerShown-user col-5 mb-2"},[s("div",{staticClass:"user-info"},[s("img",{staticClass:"user-avatar",attrs:{src:e.image,alt:""}}),s("div",{staticClass:"user-name"},[s("span",[t._v(t._s(e.name))]),s("span",[t._v(t._s(e.email))])])]),t._m(1,!0)])})),0)])},j=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userfollow-button"},[s("i",{staticClass:"far fa-user-plus"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"userfollow-button"},[s("i",{staticClass:"far fa-user-plus"})])}],O={name:"FollowersTab",props:{user:{type:Object,required:!0}},data:function(){return{isFollwings:!0,isFollowers:!1,userfollowship:this.user}},methods:{isFollowing:function(){this.isFollwings=!0,this.isFollowers=!1},isFollower:function(){this.isFollwings=!1,this.isFollowers=!0}}},y=O,E=(s("e20d"),Object(f["a"])(y,R,j,!1,null,"6fadf9da",null)),D=E.exports,U={name:"User",components:{Followers:D,UserRestaurantCard:p,RestaurantComments:x},data:function(){return{user:{},isFollowers:!0,isRestaurants:!1,isReview:!1}},created:function(){var t=this.$route.params.id;fetch,this.fetchUser(t)},methods:{fetchUser:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,o["a"].getUser({userId:t});case 3:a=s.sent,r=a.data,e.user=Object(i["a"])(Object(i["a"])({},e.user),r.user),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),c["a"].fire({icon:"error",title:"無法取得user資料 "});case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},changeFollowers:function(){this.isFollowers=!0,this.isRestaurants=!1,this.isReview=!1},changeRestaurants:function(){this.isFollowers=!1,this.isRestaurants=!0,this.isReview=!1},changeReview:function(){this.isFollowers=!1,this.isRestaurants=!1,this.isReview=!0}}},S=U,P=(s("e8c3"),Object(f["a"])(S,a,r,!1,null,null,null));e["default"]=P.exports},7382:function(t,e,s){},"7be2":function(t,e,s){},c365:function(t,e,s){},d49e:function(t,e,s){},e20d:function(t,e,s){"use strict";s("d49e")},e235:function(t,e,s){"use strict";s("7382")},e8c3:function(t,e,s){"use strict";s("7be2")}}]);
//# sourceMappingURL=chunk-76334b66.10a3cdfc.js.map